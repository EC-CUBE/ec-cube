{#
This file is part of EC-CUBE

Copyright(c) EC-CUBE CO.,LTD. All Rights Reserved.

http://www.ec-cube.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}

{% extends '@admin/default_frame.twig' %}

{% set menus = ['setting', 'system', 'log'] %}

{% block title %}{{ 'admin.setting.system.log_display'|trans }}{% endblock %}
{% block sub_title %}{{ 'admin.setting.system'|trans }}{% endblock %}

{% form_theme form '@admin/Form/bootstrap_4_layout.html.twig' %}

{% block main %}
    <div class="c-outsideBlock">
        <div class="c-outsideBlock__contents">
            <div class="card rounded border-0 mb-4">
                <div class="card-header">
                    <div class="d-inline-block" data-bs-toggle="tooltip" data-bs-placement="top" title="{{ 'tooltip.setting.system.log_display'|trans }}">
                        <span class="card-title">{{ 'admin.setting.system.log_display'|trans }}</span><i class="fa fa-question-circle fa-lg ms-1"></i>
                    </div>
                </div>
                <div class="card-body">
                    <form name="form1" id="form1" method="post">
                        {{ form_widget(form._token) }}
                        <div class="row mb-3">
                            <div class="mb-3 pe-3 col-2">
                                {{ form_widget(form.files, { 'attr': { 'class': 'form-select' }}) }}
                            </div>
                            <div class="row mb-3 pe-3 col-auto align-items-center">
                                <span class="col-auto">{{ form_widget(form.line_max) }}</span>
                                <span class="col-auto ps-0">{{ 'admin.setting.system.log.line_number'|trans }}</span>
                            </div>
                            <div class="mb-3 pe-3 col-auto">
                                <button type="submit"
                                        class="btn btn-ec-conversion">{{ 'admin.setting.system.log.read'|trans }}</button>
                            </div>
                            <div class="mb-3 pe-3 col-auto">
                                {{ form_widget(form.download) }}
                            </div>
                            <span class="col-auto">{{ form_errors(form.line_max) }}</span>
                        </div>
                    </form>
                    <div>
<textarea class="form-control" rows="20" wrap="off" readonly>
{% for line in log %}
    {{ line }}
{% endfor %}
</textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
