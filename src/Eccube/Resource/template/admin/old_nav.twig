{#
This file is part of EC-CUBE

Copyright(c) LOCKON CO.,LTD. All Rights Reserved.

http://www.lockon.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}

{% for level1 in eccube_config.eccube_nav if app.request.baseUrl ~ '/' ~ eccube_config.eccube_admin_route ~ '/' ~ level1.id not in AuthorityRoles %}
    <li class="{% if active_menus(menus)[0] == level1.id %}active{% endif %}">
        {% if level1.has_child is defined and level1.has_child == true %}
            <a class="toggle">
                <svg class="cb {{ level1.icon }}"> <use xlink:href="#{{ level1.icon }}" /></svg>
                {{ level1.name|trans }}
                <svg class="cb cb-angle-down"> <use xlink:href="#cb-angle-down" /></svg>
            </a>
            <ul {% if active_menus(menus)[0] == level1.id %}class="active" style="display: block;"{% endif %}>
                {% for level2 in level1.child if app.request.baseUrl ~ '/' ~ eccube_config.eccube_admin_route ~ '/' ~ level1.id ~ '/' ~ level2.id not in AuthorityRoles %}
                    {% if level2.url is defined and path(level2.url)  in AuthorityRoles %}
                    {% else %}
                    <li class="{% if active_menus(menus)[1] == level2.id %}active{% endif %}">
                        {% if level2.has_child is defined and level2.has_child == true %}
                            <a class="toggle">
                                {{ level2.name|trans }}
                                <svg class="cb cb-angle-down"> <use xlink:href="#cb-angle-down" /></svg>
                            </a>
                            <ul {% if active_menus(menus)[1] == level2.id %}class="active" style="display: block;"{% endif %}>
                                {% for level3 in level2.child %}
                                    {% if level3.url is defined and path(level3.url)  in AuthorityRoles %}
                                    {% else %}
                                    <li class="{% if active_menus(menus)[2] == level3.id %}active{% endif %}">
                                        <a href="{{ url(level3.url) }}">
                                            {{ level3.name|trans }}
                                        </a>
                                    </li>
                                    {% endif %}
                                {% endfor %}
                            </ul>
                        {% else %}
                            <a href="{{ url(level2.url) }}">
                                {{ level2.name|trans }}
                            </a>
                        {% endif %}
                    </li>
                   {% endif %}
                {% endfor %}
            </ul>
        {% else %}
            {% if level1.url is defined %}
                <a href="{{ url(level1.url) }}">
                    {{ level1.name|trans }}
                </a>
            {% else %}
                {{ level1.name|trans }}
            {% endif %}
        {% endif %}
    </li>
{% endfor %}
