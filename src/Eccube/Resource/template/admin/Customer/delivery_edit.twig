{#
/*
* This file is part of EC-CUBE
*
* Copyright(c) 2000-2015 LOCKON CO.,LTD. All Rights Reserved.
*
* http://www.lockon.co.jp/
*
* This program is free software; you can redistribute it and/or
* modify it under the terms of the GNU General Public License
* as published by the Free Software Foundation; either version 2
* of the License, or (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with this program; if not, write to the Free Software
* Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
*/
#}

{% extends '@admin/default_frame.twig' %}

{% set menus = ['customer', 'customer_edit'] %}

{% block title %}会員管理{% endblock %}
{% block sub_title %}お届け先登録・編集{% endblock %}

{% form_theme form '@admin/Form/bootstrap_3_horizontal_layout.html.twig' %}

{% block javascript %}
    <script src="//yubinbango.github.io/yubinbango/yubinbango.js" charset="UTF-8"></script>
{% endblock javascript %}

{% block main %}
<div class="row" id="aside_wrap">
    <form name="customer_address_form" role="form" id="customer_address_form" method="post" action="{%- if CustomerAddress.id %}{{ url('admin_customer_delivery_edit', { id : Customer.id, did: CustomerAddress.id }) }}{% else %}{{ url('admin_customer_delivery_new', { id: Customer.id }) }}{% endif -%}" novalidate class="h-adr">
        {{ form_widget(form._token) }}
        <span class="p-country-name" style="display:none;">Japan</span>
        <div id="detail_box" class="box">
            <div id="detail_box__header" class="box-header">
                <h3 class="box-title">お届け先情報</h3>
            </div><!-- /.box-header -->
            <div id="detail_box__body" class="box-body accpanel" style="display: block;">
                <div class="form-horizontal">
                    {# お届け先ID #}
                    {% if CustomerAddress.id %}
                        <div id="detail_box__id" class="form-group">
                            <label class="col-sm-3 col-lg-2 control-label">お届け先ID</label>
                            <div class="col-sm-9 col-lg-10">{{ CustomerAddress.id }}</div>
                        </div>
                    {% endif %}
                    {# 名前 #}
                    <div id="detail_box__name" class="form-group">
                        {{ form_label(form.name) }}
                        <div class="col-sm-9 col-lg-10 input_name form-inline">
                            {{ form_widget(form.name.name01) }}
                            {{ form_widget(form.name.name02) }}
                            {{ form_errors(form.name.name01) }}
                            {{ form_errors(form.name.name02) }}
                        </div>
                    </div>
                    {# 名前(カナ) #}
                    <div id="detail_box__name" class="form-group">
                        {{ form_label(form.kana) }}
                        <div class="col-sm-9 col-lg-10 input_name form-inline">
                            {{ form_widget(form.kana.kana01) }}
                            {{ form_widget(form.kana.kana02) }}
                            {{ form_errors(form.kana.kana01) }}
                            {{ form_errors(form.kana.kana02) }}
                        </div>
                    </div>
                    {# 会社名 #}
                    <div id="detail_box__company_name" class="form-group">
                        {{ form_label(form.company_name) }}
                        <div class="col-sm-9 col-lg-10">
                            {{ form_widget(form.company_name) }}
                            {{ form_errors(form.company_name) }}
                        </div>
                    </div>
                    {# 住所：郵便番号 #}
                    <div id="detail_box__address" class="form-group">
                        {{ form_label(form.address) }}
                        <div id="detail_box__zip" class="col-sm-9 col-lg-10 input_zip form-inline">
                            〒{{ form_widget(form.zip.zip01) }}-{{ form_widget(form.zip.zip02) }}
                            {{ form_errors(form.zip) }}
                            {{ form_errors(form.zip.zip01) }}
                            {{ form_errors(form.zip.zip02) }}
                        </div>
                    </div>
                    {# 住所：都道府県 #}
                    <div class="form-group">
                        <div id="detail_box__pref" class="col-sm-offset-2 col-sm-9 col-lg-10 form-inline">
                            {{ form_widget(form.address.pref) }}
                            {{ form_errors(form.address.pref) }}
                        </div>
                    </div>
                    {# 住所：住所1 #}
                    <div class="form-group">
                        <div id="detail_box__addr01" class="col-sm-offset-2 col-sm-9 col-lg-10">
                            {{ form_widget(form.address.addr01, { attr : { placeholder : '市区町村名（例：千代田区神田神保町）'}} ) }}
                            {{ form_errors(form.address.addr01) }}
                        </div>
                    </div>
                    {# 住所：住所2 #}
                    <div class="form-group">
                        <div id="detail_box__addr02" class="col-sm-offset-2 col-sm-9 col-lg-10">
                            {{ form_widget(form.address.addr02, { attr : { placeholder : '番地・ビル名（例：1-3-5）' }}) }}
                            {{ form_errors(form.address.addr02) }}
                        </div>
                    </div>
                    {# 電話番号 #}
                    <div id="detail_box__tel" class="form-group">
                        {{ form_label(form.tel) }}
                        <div class="col-sm-9 col-lg-10 input_tel form-inline">
                            {{ form_widget(form.tel.tel01) }}-{{ form_widget(form.tel.tel02) }}-{{ form_widget(form.tel.tel03) }}
                            {{ form_errors(form.tel.tel01) }}
                            {{ form_errors(form.tel.tel02) }}
                            {{ form_errors(form.tel.tel03) }}
                        </div>
                    </div>
                    {# FAX番号 #}
                    <div id="detail_box__fox" class="form-group">
                        {{ form_label(form.fax) }}
                        <div class="col-sm-9 col-lg-10 input_tel form-inline">
                            {{ form_widget(form.fax.fax01) }}-{{ form_widget(form.fax.fax02) }}-{{ form_widget(form.fax.fax03) }}
                            {{ form_errors(form.fax.fax01) }}
                            {{ form_errors(form.fax.fax02) }}
                            {{ form_errors(form.fax.fax03) }}
                        </div>
                    </div>
                    {# エンティティ拡張の自動出力 #}
                    {% for f in form %}
                        {# auto_render有効時に出力 #}
                        {% if f.vars.eccube_form_options.auto_render %}
                            {# form_themeが設定されている場合にthemeを適用 #}
                            {% if f.vars.eccube_form_options.form_theme %}
                                {% form_theme f f.vars.eccube_form_options.form_theme %}
                            {% endif %}
                            {{ form_row(f) }}
                        {% endif %}
                    {% endfor %}
                    <div class="extra-form">
                        {% for f in form.getIterator %}
                            {% if f.vars.name matches '[^plg*]' %}
                                {{ form_row(f) }}
                            {% endif %}
                        {% endfor %}
                    </div>

                    <div id="detail__insert_button" class="row btn_area">
                        <p class="col-xs-8 col-xs-offset-2 col-sm-4 col-sm-offset-4 text-center">
                            <button type="submit" class="btn btn-primary btn-block btn-lg" name="mode" value="register">お届け先を登録</button>
                        </p>
                        <!-- /.col -->
                    </div>

                    <div id="detail__back_button" class="row hidden-xs hidden-sm">
                        <div class="col-xs-10 col-xs-offset-1 col-sm-6 col-sm-offset-3 text-center btn_area">
                            <p><a href="{{ url('admin_customer_edit', { id: Customer.id }) }}">戻る</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.box -->
    </form>
</div>
{% endblock %}
