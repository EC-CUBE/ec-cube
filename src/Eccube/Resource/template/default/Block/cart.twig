{#
This file is part of EC-CUBE

Copyright(c) 2000-2015 LOCKON CO.,LTD. All Rights Reserved.

http://www.lockon.co.jp/

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
#}
{% set Cart = app['eccube.service.cart'].getCart %}

<div class="ec-cartNavi">
    <div class="ec-cartNavi__icon">
        <svg viewbox="0 0 360 360">
            <path d="M345,78.032v101.817c0,3.183-1.06,6-3.173,8.452c-2.116,2.455-4.828,3.877-8.132,4.275l-207.043,24.261   c0.13,0.93,0.427,2.355,0.893,4.275c0.461,1.925,0.858,3.68,1.189,5.271c0.329,1.591,0.496,3.051,0.496,4.375   c0,2.121-1.586,6.362-4.759,12.727h182.452c3.437,0,6.411,1.262,8.924,3.778c2.51,2.52,3.768,5.503,3.768,8.948   c0,3.45-1.258,6.433-3.768,8.949c-2.513,2.52-5.487,3.778-8.924,3.778H103.847c-3.44,0-6.416-1.259-8.925-3.778   c-2.513-2.517-3.768-5.499-3.768-8.949c0-1.854,0.724-4.475,2.181-7.854c1.453-3.381,3.402-7.325,5.85-11.833   c2.445-4.506,3.798-7.026,4.065-7.557L68.149,65.305H27.693c-3.44,0-6.415-1.26-8.924-3.779C16.255,59.008,15,56.026,15,52.577   c0-3.445,1.254-6.428,3.768-8.949c2.51-2.516,5.484-3.777,8.924-3.777h50.77c2.113,0,3.997,0.432,5.651,1.291   c1.651,0.864,2.975,1.891,3.966,3.082c0.993,1.195,1.851,2.82,2.58,4.873c0.724,2.058,1.22,3.813,1.486,5.27   c0.264,1.463,0.626,3.416,1.091,5.867c0.461,2.455,0.759,4.146,0.893,5.072h238.179c3.437,0,6.41,1.262,8.924,3.777   C343.742,71.602,345,74.586,345,78.032z M134.487,276.397c4.957,4.972,7.437,10.972,7.437,17.998   c0,7.025-2.479,13.025-7.437,17.997c-4.958,4.972-10.942,7.458-17.949,7.458c-7.008,0-12.989-2.486-17.947-7.458   c-4.959-4.972-7.437-10.972-7.437-17.997c0-7.026,2.478-13.026,7.437-17.998c4.958-4.971,10.938-7.457,17.947-7.457   C123.544,268.94,129.529,271.426,134.487,276.397z M312.178,276.397c4.958,4.972,7.437,10.972,7.437,17.998   c0,7.025-2.479,13.025-7.437,17.997c-4.957,4.972-10.941,7.458-17.947,7.458c-7.009,0-12.99-2.486-17.947-7.458   c-4.958-4.972-7.437-10.972-7.437-17.997c0-7.026,2.479-13.026,7.437-17.998c4.957-4.971,10.938-7.457,17.947-7.457   C301.237,268.94,307.221,271.426,312.178,276.397z"></path>
        </svg>
    </div>
    <div class="ec-cartNavi__iconClose">
        <svg viewbox="0 0 360 360">
            <path d="M337.572,293.77L223.65,179.85L337.572,65.928c3.547-3.546,3.163-9.678-0.855-13.7l-29.095-29.093  c-4.022-4.021-10.153-4.402-13.7-0.856L180,136.199L66.08,22.279c-3.547-3.547-9.681-3.165-13.702,0.856L23.286,52.228  c-4.02,4.022-4.404,10.154-0.857,13.7L136.35,179.85L22.429,293.77c-3.547,3.545-3.163,9.678,0.857,13.701l29.093,29.092  c4.021,4.023,10.155,4.406,13.702,0.857L180,223.499L293.92,337.42c3.548,3.549,9.679,3.166,13.701-0.857l29.095-29.092  C340.735,303.448,341.121,297.315,337.572,293.77z"></path>
        </svg>
    </div>
    <div class="ec-cartNavi__badge">{{ Cart.total_quantity }}</div>
    <div class="ec-cartNavi__label">合計
        <div class="ec-cartNavi__price">{{ Cart.total_price|price }}</div>
    </div>
</div>
{% if Cart.CartItems|length > 0 %}
    <div class="ec-cartNaviIsset">
        <div class="ec-cartNaviIsset__cart">
            {% for CartItem in Cart.CartItems %}
            {% set ProductClass = CartItem.ProductClass %}
            {% set Product = ProductClass.Product %}
            <div class="ec-cartNaviIsset__cartImage"><img
                        src="{{ app.config.image_save_urlpath }}/{{ Product.MainListImage|no_image_product }}"
                        alt="{{ Product.name }}">
            </div>
            <div class="ec-cartNaviIsset__cartContent">
                <div class="ec-cartNaviIsset__cartContentTitle">{{ Product.name }}
                </div>
                <div class="ec-cartNaviIsset__cartContentPrice">{{ CartItem.price|price }}
                    <div class="ec-cartNaviIsset__cartContentTax">税込
                    </div>
                </div>
                <div class="ec-cartNaviIsset__cartContentNumber">数量：{{ CartItem.quantity }}
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="ec-cartNaviIsset__action"><a class="ec-blockBtn--action" href="{{ url('cart') }}">カートへ進む</a><a class="ec-blockBtn ec-cartNavi--cancel">キャンセル</a>
        </div>
    </div>
{% else %}
    <div class="ec-cartNaviNull">
        <div class="ec-cartNaviNull__message">
            <p>現在カート内に<br>商品がございません。</p>
        </div>
    </div>
{% endif %}
