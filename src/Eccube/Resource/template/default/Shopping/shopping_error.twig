{#
This file is part of EC-CUBE

Copyright(c) LOCKON CO.,LTD. All Rights Reserved.

http://www.lockon.co.jp/

For the full copyright and license information, please view the LICENSE
file that was distributed with this source code.
#}
{% extends 'default_frame.twig' %}

{% set body_class = 'cart_page' %}

{% block main %}

<div class="ec-role">
    <div class="ec-pageHeader">
        <h1>{{ 'front.shopping.error'|trans }}</h1>
    </div>
</div>

<div class="ec-role">
    <div class="ec-off3Grid">
        <div class="ec-off3Grid__cell">
            {% for error in app.session.flashbag.get('eccube.front.error') %}
                <div class="ec-alert-warning">
                    <div class="ec-alert-warning__icon"><img src="/html/template/default/assets/icon/exclamation-white.svg"></div>
                    <div class="ec-alert-warning__text">{{ error|trans|nl2br }}</div>
                </div>
            {% endfor %}
            {% set productStr = app.session.flashbag.get('eccube.front.request.product') %}
            {% for error in app.session.flashbag.get('eccube.front.request.error') %}
            {% set idx = loop.index0 %}
            {% if productStr[idx] is defined %}
            <div class="ec-alert-warning">
                <div class="ec-alert-warning__icon"><img src="/html/template/default/assets/icon/exclamation-white.svg"></div>
                <div class="ec-alert-warning__text">{{ error|trans({'%product%':productStr[idx]})|nl2br }}</div>
                {% else %}
                    <div class="ec-alert-warning">
                        <div class="ec-alert-warning__icon"><img src="/html/template/default/assets/icon/exclamation-white.svg"></div>
                        <div class="ec-alert-warning__text">{{ error|trans|nl2br }}</div>
                    </div>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<div class="ec-role">
    <div class="ec-off3Grid">
        <div class="ec-off3Grid__cell">
            <div class="ec-off4Grid">
                <div class="ec-off4Grid__cell">
                    <a class="ec-blockBtn--cancel" href="{{ url('cart') }}">{{ 'front.shopping.back_to_cart'|trans }}</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
